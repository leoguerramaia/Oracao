<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro - Pedidos de Oração</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <h2>Cadastro de Usuário</h2>
  <form id="formCadastro">
    <input type="text" id="nome" placeholder="Nome completo" required><br>
    <input type="text" id="apelido" placeholder="Apelido"><br>
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="tel" id="telefone" placeholder="Telefone (DDD+Número)" required><br>
    <button type="submit">Cadastrar</button>
  </form>

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js";

    // Configuração do seu projeto Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyATVaYFF3Ho47Vc4bB0BOy7Q2NKLAqSHXQ",
      authDomain: "pedidosoracao-5226e.firebaseapp.com",
      projectId: "pedidosoracao-5226e",
      storageBucket: "pedidosoracao-5226e.firebasestorage.app",
      messagingSenderId: "1036424775005",
      appId: "1:1036424775005:web:e07fb3c31ff94854c894b4",
      measurementId: "G-DP0CCC7BGC"
    };

    // Inicializa Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Salvar cadastro
    document.getElementById("formCadastro").addEventListener("submit", async (e) => {
      e.preventDefault();
      const novoCadastro = {
        nome: document.getElementById("nome").value,
        apelido: document.getElementById("apelido").value,
        email: document.getElementById("email").value,
        telefone: document.getElementById("telefone").value
      };
      try {
        await addDoc(collection(db, "cadastrosUsuarios"), novoCadastro);
        alert("✅ Cadastro salvo com sucesso na nuvem!");
        e.target.reset();
      } catch (err) {
        console.error("Erro ao salvar:", err);
        alert("❌ Erro ao salvar cadastro!");
      }
    });
  </script>
</body>
</html>
